{
  "$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
  "name": "Pine Script",
  "patterns": [
    {"include": "#comments"},
    {"include": "#imports"},
    {"include": "#strings"},
    {"include": "#constants"},
    {"include": "#functions"},
    {"include": "#types"},
    {"include": "#keywords"},
    {"include": "#variables"},
    {"include": "#operators"},
    {"include": "#parameters"}
  ],
  "repository": {
    "comments":{
      "patterns": [
        {
          "match": "(<parameter_name>|<default_value>|<series>|<simple>|<function_code>|<source>)",
          "name": "comment.line.double-slash.ps"
        },
        {
          "match": "(^\/\/)\\s*(©)\\s*(\\w.*)",
          "captures": {
            "0": {
              "name": "comment.line.double-slash.ps"
            },
            "1": {
              "name": "comment.line.double-slash.ps"
            },
            "2": {
              "name": "comment.line.double-slash.ps"
            },
            "3": {
              "name": "constant.numeric.ps"
            },
            "4": {
              "name": "comment.line.double-slash.ps"
            }
          }
        },
        {
          "match": "(^\/\/)\\s*(ⓘ)\\s*(https:\/\/www\\.tradingview\\.com)([\\w.,@?^=%&:\/~+#-\\{]*[\\}\\w@?^=%&\/~+#-])(\\w+)(.*)",
          "captures": {
            "0": {
              "name": "comment.line.double-slash.ps"
            },
            "1": {
              "name": "comment.line.double-slash.ps"
            },
            "2": {
              "name": "constant.numeric.ps"
            },
            "3": {
              "name": "keyword.operator.logical.ps"
            },
            "4": {
              "name": "keyword.operator.logical.ps"
            },
            "5": {
              "name": "keyword.operator.logical.ps"
            }
          }
        },
        {
          "match": "(^\/\/)(@)(version)(=)(5)(.*)",
          "captures": {
            "0": {
              "name": "comment.line.double-slash.ps"
            },
            "1": {
              "name": "comment.line.double-slash.ps"
            },
            "2": {
              "name": "punctuation.section.embedded.other.ps"
            },
            "3": {
              "name": "keyword.other.ps"
            },
            "4": {
              "name": "keyword.operator.assignment.ps"
            },
            "5": {
              "name": "constant.numeric.ps"
            }
          }
        },
        {
          "match": "(^\/\/).*(\\d{10})(.*)(#)",
          "captures": {
            "0": {
              "name": "comment.line.double-slash.ps"
            },
            "1": {
              "name": "comment.line.double-slash.ps"
            },
            "2": {
              "name": "punctuation.definition.list.markdown.ps"
            },
            "3": {
              "name": "comment.line.double-slash.ps"
            }
          }
        },
        {
          "match": "(^\/\/)\\s(@)(description|function|param|returns|type|field)(.*)",
          "captures": {
            "0": {
              "name": "variable.annotation.ps"
            },
            "1": {
              "name": "comment.line.double-slash.ps"
            },
            "2": {
              "name": "punctuation.section.embedded.begin.ps"
            },
            "3": {
              "name": "token.package.ps"
            },
            "4": {
              "name": "comment.line.double-slash.ps"
            }
          }
        },
        {
          "match": "(^\/\/).*(\\d{4}\\s\\w{3,10}\\s\\w{3,10}).*(\\|)\\s(\\d{2}:\\d{2}:\\d{2})(.*)(#)",
          "captures": {
            "0": {
              "name": "comment.line.double-slash.ps"
            },
            "1": {
              "name": "comment.line.double-slash.ps"
            },
            "2": {
              "name": "markup.italic.markdown.ps"
            },
            "3": {
              "name": "comment.line.double-slash.ps"
            },
            "4": {
              "name": "punctuation.definition.list.markdown.ps"
            },
            "5": {
              "name": "invalid.illegal.ps"
            },
            "6": {
              "name": "comment.line.double-slash.ps"
            }
          }
        },
        {
          "match": "(^\/\/).*(\\d{2}-\\d{2}-\\d{2}).*(\\|)\\s(\\d{2}:\\d{2}:\\d{2})(.*)(#)",
          "captures": {
            "0": {
              "name": "comment.line.double-slash.ps"
            },
            "1": {
              "name": "comment.line.double-slash.ps"
            },
            "2": {
              "name": "markup.italic.markdown.ps"
            },
            "3": {
              "name": "comment.line.double-slash.ps"
            },
            "4": {
              "name": "punctuation.definition.list.markdown.ps"
            },
            "5": {
              "name": "invalid.illegal.ps"
            },
            "6": {
              "name": "comment.line.double-slash.ps"
            }
          }
        },
        {
          "match": "(^\/\/).*(##)(.*)(\\|)\\s*(>)\\s*(.*)(#)",
          "captures": {
            "0": {
              "name": "comment.line.double-slash.ps"
            },
            "1": {
              "name": "comment.line.double-slash.ps"
            },
            "2": {
              "name": "markup.italic.markdown.ps"
            },
            "3": {
              "name": "token.info-token.ps"
            },
            "4": {
              "name": "comment.line.double-slash.ps"
            },
            "5": {
              "name": "invalid.illegal.ps"
            },
            "6": {
              "name": "punctuation.definition.list.markdown.ps"
            }
          }
        },
        {
          "match": "//.*",
          "name": "comment.line.double-slash.ps"
        }
      ]
    },
    "imports":{
      "patterns": [
        {
          "match": "^(import)\\s+(\\w+)(\/)(\\w+)(\/)(\\w+)\\s+(as)\\s+(\\w+)",
          "captures": {
            "1": {"name": "keyword.control.import.ps"},
            "2": {"name": "entity.name.type.class.ps"},
            "3": {"name": "punctuation.separator.ps"},
            "4": {"name": "entity.name.type.class.ps"},
            "5": {"name": "punctuation.separator.ps"},
            "6": {"name": "constant.numeric.ps"},
            "7": {"name": "keyword.control.as.ps"},
            "8": {"name": "entity.name.namespace.ps"}
          }
        },
        {
          "match": "^(import)\\s+(\\w+)(\/)(\\w+)(\/)(\\w+)",
          "captures": {
            "1": {"name": "keyword.control.import.ps"},
            "2": {"name": "entity.name.type.class.ps"},
            "3": {"name": "punctuation.separator.ps"},
            "4": {"name": "entity.name.type.class.ps"},
            "5": {"name": "punctuation.separator.ps"},
            "6": {"name": "constant.numeric.ps"}
          }
        }
      ]
    },
    "strings": {
      "patterns": [
        {
          "begin": "\"",
          "beginCaptures": {"0": {"name": "punctuation.definition.string.begin.ps"}},
          "end": "\"",
          "endCaptures": {"0": {"name": "punctuation.definition.string.end.ps"}},
          "name": "string.quoted.double.ps",
          "patterns": [
            {
              "match": "\\\\.",
              "name": "constant.character.escaped.ps"
            },
            {
              "match": "(\\{)([\\w\\s\\.,#]+)(\\})",
              "captures": {
                "0": {"name": "variable.parameter.ps"},
                "1": {"name": "constant.character.format.placeholder.other.ps"},
                "3": {"name": "constant.character.format.placeholder.other.ps"},
                "2": {"patterns": [
                  {
                    "match": "\\,",
                    "name": "punctuation.separator.comma.ps"
                  },
                  {
                    "match": "\\b[0-9]+\\b(?!\\.)",
                    "name": "constant.numeric.decimal.ps"
                  },
                  {
                    "match": "[^\\s,]+",
                    "name": "variable.parameter.ps"
                  }
                ]}
              }
            }
          ]
        },
        {
          "begin": "'",
          "beginCaptures": {"1": {"name": "punctuation.definition.string.begin.ps"}},
          "end": "'",
          "endCaptures": {"1": {"name": "punctuation.definition.string.end.ps"}},
          "name": "string.quoted.single.ps",
          "patterns": [
            {
              "match": "\\\\.",
              "name": "constant.character.escaped.ps"
            },
            {
              "match": "(\\{)([\\w\\s\\.,#]+)(\\})",
              "captures": {
                "0": {"name": "variable.parameter.ps"},
                "1": {"name": "constant.character.format.placeholder.other.ps"},
                "3": {"name": "constant.character.format.placeholder.other.ps"},
                "2": {"patterns": [
                  {
                    "match": "\\,",
                    "name": "punctuation.separator.comma.ps"
                  },
                  {
                    "match": "\\b([0-9]+)\\b(?!\\.)",
                    "name": "constant.numeric.decimal.ps"
                  },
                  {
                    "match": "[^\\s,]+",
                    "name": "variable.parameter.ps"
                  }
                ]}
              }
            }
          ]
        }
      ]
    },
    "constants": {
      "patterns": [
        {
          "match": "\\b(adjustment)\\b(\\.)\\b(dividends|none|splits)\\b",
          "captures": {
            "0": {
              "name": "support.constant.property.ps"
            },
            "1": {
              "name": "support.constant.ps"
            },
            "2": {
              "name": "punctuation.accessor.ps"
            }
          }
        },
        {
          "match": "\\b(alert)\\b(\\.)\\b(freq_all|freq_once_per_bar|freq_once_per_bar_close)\\b",
          "captures": {
            "0": {
              "name": "support.constant.property.ps"
            },
            "1": {
              "name": "support.constant.ps"
            },
            "2": {
              "name": "punctuation.accessor.ps"
            }
          }
        },
        {
          "match": "\\b(barmerge)\\b(\\.)\\b(gaps_off|gaps_on|lookahead_off|lookahead_on)\\b",
          "captures": {
            "0": {
              "name": "support.constant.property.ps"
            },
            "1": {
              "name": "support.constant.ps"
            },
            "2": {
              "name": "punctuation.accessor.ps"
            }
          }
        },
        {
          "match": "\\b(barstate)\\b(\\.)\\b(islastconfirmedhistory|isconfirmed|isfirst|ishistory|islast|isnew|isrealtime)\\b",
          "captures": {
            "0": {
              "name": "support.constant.property.ps"
            },
            "1": {
              "name": "support.constant.ps"
            },
            "2": {
              "name": "punctuation.accessor.ps"
            }
          }
        },
        {
          "match": "\\b(box)\\b(\\.)\\b(all)\\b",
          "captures": {
            "0": {
              "name": "support.constant.property.ps"
            },
            "1": {
              "name": "support.constant.ps"
            },
            "2": {
              "name": "punctuation.accessor.ps"
            }
          }
        },
        {
          "match": "\\b(chart)\\b(\\.)\\b(bg_color|fg_color|is_heikinashi|is_kagi|is_linebreak|is_pnf|is_range|is_renko|is_standard|left_visible_bar_time|right_visible_bar_time)\\b",
          "captures": {
            "0": {
              "name": "support.constant.property.ps"
            },
            "1": {
              "name": "support.constant.ps"
            },
            "2": {
              "name": "punctuation.accessor.ps"
            }
          }
        },
        {
          "match": "\\b(color)\\b(\\.)\\b(aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow)\\b",
          "captures": {
            "0": {
              "name": "support.constant.property.ps"
            },
            "1": {
              "name": "support.constant.ps"
            },
            "2": {
              "name": "punctuation.accessor.ps"
            }
          }
        },
        {
          "match": "\\b(currency)\\b(\\.)\\b(AUD|BTC|CAD|CHF|ETH|EUR|GBP|HKD|INR|JPY|KRW|MYR|NOK|NONE|NZD|RUB|SEK|SGD|TRY|USDT|USD|ZAR)\\b",
          "captures": {
            "0": {
              "name": "support.constant.property.ps"
            },
            "1": {
              "name": "support.constant.ps"
            },
            "2": {
              "name": "punctuation.accessor.ps"
            }
          }
        },
        {
          "match": "\\b(dayofweek)\\b(\\.)\\b(friday|monday|saturday|sunday|thursday|tuesday|wednesday)\\b",
          "captures": {
            "0": {
              "name": "support.constant.property.ps"
            },
            "1": {
              "name": "support.constant.ps"
            },
            "2": {
              "name": "punctuation.accessor.ps"
            }
          }
        },
        {
          "match": "\\b(display)\\b(\\.)\\b(all|data_window|none|pane|price_scale|status_line)\\b",
          "captures": {
            "0": {
              "name": "support.constant.property.ps"
            },
            "1": {
              "name": "support.constant.ps"
            },
            "2": {
              "name": "punctuation.accessor.ps"
            }
          }
        },
        {
          "match": "\\b(dividends)\\b(\\.)\\b(gross|net)\\b",
          "captures": {
            "0": {
              "name": "support.constant.property.ps"
            },
            "1": {
              "name": "support.constant.ps"
            },
            "2": {
              "name": "punctuation.accessor.ps"
            }
          }
        },
        {
          "match": "\\b(earnings)\\b(\\.)\\b(actual|estimate|standardized|future_eps|future_period_end_time|future_revenue|future_time)\\b",
          "captures": {
            "0": {
              "name": "support.constant.property.ps"
            },
            "1": {
              "name": "support.constant.ps"
            },
            "2": {
              "name": "punctuation.accessor.ps"
            }
          }
        },
        {
          "match": "\\b(extend)\\b(\\.)\\b(both|left|none|right)\\b",
          "captures": {
            "0": {
              "name": "support.constant.property.ps"
            },
            "1": {
              "name": "support.constant.ps"
            },
            "2": {
              "name": "punctuation.accessor.ps"
            }
          }
        },
        {
          "match": "\\b(font)\\b(\\.)\\b(family_default|family_monospace)\\b",
          "captures": {
            "0": {
              "name": "support.constant.property.ps"
            },
            "1": {
              "name": "support.constant.ps"
            },
            "2": {
              "name": "punctuation.accessor.ps"
            }
          }
        },
        {
          "match": "\\b(format)\\b(\\.)\\b(inherit|mintick|percent|price|volume)\\b",
          "captures": {
            "0": {
              "name": "support.constant.property.ps"
            },
            "1": {
              "name": "support.constant.ps"
            },
            "2": {
              "name": "punctuation.accessor.ps"
            }
          }
        },
        {
          "match": "\\b(hline)\\b(\\.)\\b(style_dashed|style_dotted|style_solid)\\b",
          "captures": {
            "0": {
              "name": "support.constant.property.ps"
            },
            "1": {
              "name": "support.constant.ps"
            },
            "2": {
              "name": "punctuation.accessor.ps"
            }
          }
        },
        {
          "match": "\\b(label)\\b(\\.)\\b(all|style_arrowdown|style_arrowup|style_circle|style_cross|style_diamond|style_flag|style_label_center|style_label_down|style_label_left|style_label_lower_left|style_label_lower_right|style_label_right|style_label_up|style_label_upper_left|style_label_upper_right|style_none|style_square|style_text_outline|style_triangledown|style_triangleup|style_xcross)\\b",
          "captures": {
            "0": {
              "name": "support.constant.property.ps"
            },
            "1": {
              "name": "support.constant.ps"
            },
            "2": {
              "name": "punctuation.accessor.ps"
            }
          }
        },
        {
          "match": "\\b(line)\\b(\\.)\\b(all|style_arrow_both|style_arrow_left|style_arrow_right|style_dashed|style_dotted|style_solid)\\b",
          "captures": {
            "0": {
              "name": "support.constant.property.ps"
            },
            "1": {
              "name": "support.constant.ps"
            },
            "2": {
              "name": "punctuation.accessor.ps"
            }
          }
        },
        {
          "match": "\\b(linefill)(\\.)(all)\\b",
          "captures": {
            "0": {
              "name": "support.constant.property.ps"
            },
            "1": {
              "name": "support.constant.ps"
            },
            "2": {
              "name": "punctuation.accessor.ps"
            }
          }
        },
        {
          "match": "\\b(location)\\b(\\.)\\b(abovebar|absolute|belowbar|bottom|top)\\b",
          "captures": {
            "0": {
              "name": "support.constant.property.ps"
            },
            "1": {
              "name": "support.constant.ps"
            },
            "2": {
              "name": "punctuation.accessor.ps"
            }
          }
        },
        {
          "match": "\\b(math)\\b(\\.)\\b(e|phi|pi|rphi)\\b",
          "captures": {
            "0": {
              "name": "support.constant.property.ps"
            },
            "1": {
              "name": "support.constant.ps"
            },
            "2": {
              "name": "punctuation.accessor.ps"
            }
          }
        },
        {
          "match": "\\b(order)\\b(\\.)\\b(ascending|descending)\\b",
          "captures": {
            "0": {
              "name": "support.constant.property.ps"
            },
            "1": {
              "name": "support.constant.ps"
            },
            "2": {
              "name": "punctuation.accessor.ps"
            }
          }
        },
        {
          "match": "\\b(plot)\\b(\\.)\\b(style_areabr|style_area|style_circles|style_columns|style_cross|style_histogram|style_linebr|style_line|style_stepline_diamond|style_steplinebr|style_stepline)\\b",
          "captures": {
            "0": {
              "name": "support.constant.property.ps"
            },
            "1": {
              "name": "support.constant.ps"
            },
            "2": {
              "name": "punctuation.accessor.ps"
            }
          }
        },
        {
          "match": "\\b(position)\\b(\\.)\\b(bottom_center|bottom_left|bottom_right|middle_center|middle_left|middle_right|top_center|top_left|top_right)\\b",
          "captures": {
            "0": {
              "name": "support.constant.property.ps"
            },
            "1": {
              "name": "support.constant.ps"
            },
            "2": {
              "name": "punctuation.accessor.ps"
            }
          }
        },
        {
          "match": "\\b(scale)\\b(\\.)\\b(left|none|right)\\b",
          "captures": {
            "0": {
              "name": "support.constant.property.ps"
            },
            "1": {
              "name": "support.constant.ps"
            },
            "2": {
              "name": "punctuation.accessor.ps"
            }
          }
        },
        {
          "match": "\\b(session)\\b(\\.)\\b(extended|isfirstbar_regular|isfirstbar|islastbar_regular|islastbar|ismarket|ispostmarket|ispremarket|regular)\\b",
          "captures": {
            "0": {
              "name": "support.constant.property.ps"
            },
            "1": {
              "name": "support.constant.ps"
            },
            "2": {
              "name": "punctuation.accessor.ps"
            }
          }
        },
        {
          "match": "\\b(shape)\\b(\\.)\\b(arrowdown|arrowup|circle|cross|diamond|flag|labeldown|labelup|square|triangledown|triangleup|xcross)\\b",
          "captures": {
            "0": {
              "name": "support.constant.property.ps"
            },
            "1": {
              "name": "support.constant.ps"
            },
            "2": {
              "name": "punctuation.accessor.ps"
            }
          }
        },
        {
          "match": "\\b(size)\\b(\\.)\\b(auto|huge|large|normal|small|tiny)\\b",
          "captures": {
            "0": {
              "name": "support.constant.property.ps"
            },
            "1": {
              "name": "support.constant.ps"
            },
            "2": {
              "name": "punctuation.accessor.ps"
            }
          }
        },
        {
          "match": "\\b(splits)\\b(\\.)\\b(denominator|numerator)\\b",
          "captures": {
            "0": {
              "name": "support.constant.property.ps"
            },
            "1": {
              "name": "support.constant.ps"
            },
            "2": {
              "name": "punctuation.accessor.ps"
            }
          }
        },
        {
          "match": "\\b(strategy)\\b(\\.)\\b(account_currency|cash|equity|eventrades|fixed|grossloss|grossprofit|initial_capital|long|losstrades|margin_liquidation_price|max_contracts_held_all|max_contracts_held_long|max_contracts_held_short|max_drawdown|max_runup|netprofit|openprofit|percent_of_equity|position_avg_price|position_entry_name|position_size|short|wintrades)\\b",
          "captures": {
            "0": {
              "name": "support.constant.property.ps"
            },
            "1": {
              "name": "support.constant.ps"
            },
            "2": {
              "name": "punctuation.accessor.ps"
            }
          }
        },
        {
          "match": "\\b(strategy)\\b(\\.)\\b(commission)\\b(\\.)\\b(cash_per_contract|cash_per_order|percent)\\b",
          "captures": {
            "0": {
              "name": "support.constant.property.ps"
            },
            "1": {
              "name": "support.constant.ps"
            },
            "2": {
              "name": "punctuation.accessor.ps"
            },
            "3": {
              "name": "support.constant.ps"
            },
            "4": {
              "name": "punctuation.accessor.ps"
            }
          }
        },
        {
          "match": "\\b(strategy)\\b(\\.)\\b(direction)\\b(\\.)\\b(all|long|short)\\b",
          "captures": {
            "0": {
              "name": "support.constant.property.ps"
            },
            "1": {
              "name": "support.constant.ps"
            },
            "2": {
              "name": "punctuation.accessor.ps"
            },
            "3": {
              "name": "support.constant.ps"
            },
            "4": {
              "name": "punctuation.accessor.ps"
            }
          }
        },
        {
          "match": "\\b(strategy)\\b(\\.)\\b(oca)(\\.)\\b(cancel|none|reduce)\\b",
          "captures": {
            "0": {
              "name": "support.constant.property.ps"
            },
            "1": {
              "name": "support.constant.ps"
            },
            "2": {
              "name": "punctuation.accessor.ps"
            },
            "3": {
              "name": "support.constant.ps"
            },
            "4": {
              "name": "punctuation.accessor.ps"
            }
          }
        },
        {
          "match": "\\b(syminfo)\\b(\\.)\\b(basecurrency|country|currency|description|industry|minmove|mintick|pointvalue|prefix|pricescale|root|sector|session|tickerid|ticker|timezone|type|volumetype)\\b",
          "captures": {
            "0": {
              "name": "support.constant.property.ps"
            },
            "1": {
              "name": "support.constant.ps"
            },
            "2": {
              "name": "punctuation.accessor.ps"
            }
          }
        },
        {
          "match": "\\b(ta)\\b(\\.)\\b(accdist|iii|nvi|obv|pvi|pvt|tr|vwap|wad|wvad)\\b",
          "captures": {
            "0": {
              "name": "support.constant.property.ps"
            },
            "1": {
              "name": "support.constant.ps"
            },
            "2": {
              "name": "punctuation.accessor.ps"
            }
          }
        },
        {
          "match": "\\b(table)\\b(\\.)\\b(all)\\b",
          "captures": {
            "0": {
              "name": "support.constant.property.ps"
            },
            "1": {
              "name": "support.constant.ps"
            },
            "2": {
              "name": "punctuation.accessor.ps"
            }
          }
        },
        {
          "match": "\\b(text)\\b(\\.)\\b(align_bottom|align_center|align_left|align_right|align_top|wrap_auto|wrap_none)\\b",
          "captures": {
            "0": {
              "name": "support.constant.property.ps"
            },
            "1": {
              "name": "support.constant.ps"
            },
            "2": {
              "name": "punctuation.accessor.ps"
            }
          }
        },
        {
          "match": "\\b(timeframe)\\b(\\.)\\b(isdaily|isdwm|isintraday|isminutes|ismonthly|isseconds|isweekly|multiplier|period)\\b",
          "captures": {
            "0": {
              "name": "support.constant.property.ps"
            },
            "1": {
              "name": "support.constant.ps"
            },
            "2": {
              "name": "punctuation.accessor.ps"
            }
          }
        },
        {
          "match": "\\b(xloc)\\b(\\.)\\b(bar_index|bar_time)\\b",
          "captures": {
            "0": {
              "name": "support.constant.property.ps"
            },
            "1": {
              "name": "support.constant.ps"
            },
            "2": {
              "name": "punctuation.accessor.ps"
            }
          }
        },
        {
          "match": "\\b(yloc)\\b(\\.)\\b(abovebar|belowbar|price)\\b",
          "captures": {
            "0": {
              "name": "support.constant.property.ps"
            },
            "1": {
              "name": "support.constant.ps"
            },
            "2": {
              "name": "punctuation.accessor.ps"
            }
          }
        },
        {
          "match": "\\b(true)\\b",
          "name": "constant.language.boolean.true.ps"
        },
        {
          "match": "\\b(false)\\b",
          "name": "constant.language.boolean.false.ps"
        },
        {
          "match": "\\b([0-9]+)\\b",
          "name": "constant.numeric.decimal.ps"
        },
        {
          "match": "#[a-fA-F0-9]{6}",
          "name": "constant.numeric.decimal.ps"
        }
      ]
    },
    "functions": {
      "patterns": [
        {"include": "#keywords"},
        {
          "match": "^\\b(indicator|library|strategy)?(?=\\s*\\()",
          "name": "storage.type.class.ps"
        },
        {
          "match": "\\b(array)\\b(\\.)\\b(abs|avg|binary_search_leftmost|binary_search_rightmost|binary_search|clear|concat|copy|covariance|every|fill|first|from|get|includes|indexof|insert|join|lastindexof|last|max|median|min|mode|new_bool|new_box|new_color|new_float|new_int|new_label|new_line|new_linefill|new_string|new_table|percentile_linear_interpolation|percentile_nearest_rank|percentrank|pop|push|range|remove|reverse|set|shift|size|slice|some|sort_indices|sort|standardize|stdev|sum|unshift|variance)\\b(?=\\s*\\()",
          "captures": {
            "0": {
              "name": "variable.other.object.property.ps"
            },
            "1": {
              "name": "variable.other.object.ps"
            },
            "2": {
              "name": "punctuation.accessor.ps"
            }
          }
        },
        {
          "match": "\\b(matrix)\\b(\\.)\\b(add_col|add_row|avg|columns|col|concat|copy|det|diff|eigenvalues|eigenvectors|elements_count|fill|get|inv|is_antidiagonal|is_antisymmetric|is_binary|is_diagonal|is_identity|is_square|is_stochastic|is_symmetric|is_triangular|is_zero|kron|max|median|min|mode|mult|pinv|pow|rank|remove_col|remove_row|reshape|reverse|rows|row|set|sort|submatrix|sum|swap_columns|swap_rows|trace|transpose)\\b(?=\\s*\\()",
          "captures": {
            "0": {
              "name": "variable.other.object.property.ps"
            },
            "1": {
              "name": "variable.other.object.ps"
            },
            "2": {
              "name": "punctuation.accessor.ps"
            }
          }
        },
        {
          "match": "\\b(array|matrix)\\b(\\.)\\b(new)\\b\\s*(<)\\s*([a-zA-Z_][a-zA-Z0-9_\\.]*)\\s*(>)",
          "captures": {
            "1": {
              "name": "variable.other.object.ps"
            },
            "2": {
              "name": "punctuation.accessor.ps"
            },
            "3": {
              "name": "keyword.operator.new.ps"
            },
            "4": {
              "name": "punctuation.definition.typeparameters.begin.ps"
            },
            "5": {
              "name": "support.type.primitive.ps"
            },
            "6": {
              "name": "punctuation.definition.typeparameters.begin.ps"
            }
          }
        },
        {
          "match": "\\b(box)\\b(\\.)\\b(copy|delete|get_bottom|get_left|get_right|get_top|set_bgcolor|set_border_color|set_border_style|set_border_width|set_bottom_right_point|set_bottom|set_extend|set_lefttop|set_left|set_rightbottom|set_right|set_text_color|set_text_font_family|set_text_halign|set_text_size|set_text_valign|set_text_wrap|set_text|set_top_left_point|set_top)\\b(?=\\s*\\()",
          "captures": {
            "0": {
              "name": "variable.other.object.property.ps"
            },
            "1": {
              "name": "variable.other.object.ps"
            },
            "2": {
              "name": "punctuation.accessor.ps"
            }
          }
        },
        {
          "match": "\\b(box|color|label|line|linefill|table|ticker)\\b(\\.)\\b(new)\\b(?=\\s*\\()",
          "captures": {
            "0": {
              "name": "keyword.operator.new.ps"
            },
            "1": {
              "name": "variable.other.object.ps"
            },
            "2": {
              "name": "punctuation.accessor.ps"
            }
          }
        },
        {
          "match": "\\b(chart)\\b(\\.)\\b(point)\\b(\\.)\\b(copy|from_index|from_time|now)\\b(?=\\s*\\()",
          "captures": {
            "0": {
              "name": "variable.other.object.property.ps"
            },
            "1": {
              "name": "variable.other.object.ps"
            },
            "2": {
              "name": "punctuation.accessor.ps"
            },
            "3": {
              "name": "variable.other.object.ps"
            },
            "4": {
              "name": "punctuation.accessor.ps"
            }
          }
        },
        {
          "match": "\\b(color)\\b(\\.)\\b(rgb|b|from_gradient|g|r|t)\\b(?=\\s*\\()",
          "captures": {
            "0": {
              "name": "variable.other.object.property.ps"
            },
            "1": {
              "name": "variable.other.object.ps"
            },
            "2": {
              "name": "punctuation.accessor.ps"
            }
          }
        },
        {
          "match": "\\b(input)\\b(\\.)\\b(bool|color|float|int|price|session|source|string|symbol|text_area|timeframe|time)\\b(?=\\s*\\()",
          "captures": {
            "0": {
              "name": "variable.other.object.property.ps"
            },
            "1": {
              "name": "variable.other.object.ps"
            },
            "2": {
              "name": "punctuation.accessor.ps"
            }
          }
        },
        {
          "match": "\\b(label)\\b(\\.)\\b(copy|delete|get_text|get_x|get_y|set_color|set_point|set_size|set_style|set_text_font_family|set_textalign|set_textcolor|set_text|set_tooltip|set_xloc|set_xy|set_x|set_yloc|set_y)\\b(?=\\s*\\()",
          "captures": {
            "0": {
              "name": "variable.other.object.property.ps"
            },
            "1": {
              "name": "variable.other.object.ps"
            },
            "2": {
              "name": "punctuation.accessor.ps"
            }
          }
        },
        {
          "match": "\\b(line)\\b(\\.)\\b(copy|delete|get_price|get_x1|get_x2|get_y1|get_y2|set_color|set_extend|set_first_point|set_second_point|set_style|set_width|set_x1|set_x2|set_xloc|set_xy1|set_xy2|set_y1|set_y2)\\b(?=\\s*\\()",
          "captures": {
            "0": {
              "name": "variable.other.object.property.ps"
            },
            "1": {
              "name": "variable.other.object.ps"
            },
            "2": {
              "name": "punctuation.accessor.ps"
            }
          }
        },
        {
          "match": "\\b(linefill)\\b(\\.)\\b(delete|get_line1|get_line2|set_color)\\b(?=\\s*\\()",
          "captures": {
            "0": {
              "name": "variable.other.object.property.ps"
            },
            "1": {
              "name": "variable.other.object.ps"
            },
            "2": {
              "name": "punctuation.accessor.ps"
            }
          }
        },
        {
          "match": "\\b(log)\\b(\\.)\\b(error|info|warning)\\b(?=\\s*\\()",
          "captures": {
            "0": {
              "name": "variable.other.object.property.ps"
            },
            "1": {
              "name": "variable.other.object.ps"
            },
            "2": {
              "name": "punctuation.accessor.ps"
            }
          }
        },
        {
          "match": "\\b(map)\\b(\\.)\\b(clear|contains|copy|get|keys|put_all|put|remove|size|values)\\b(?=\\s*\\()",
          "captures": {
            "0": {
              "name": "variable.other.object.property.ps"
            },
            "1": {
              "name": "variable.other.object.ps"
            },
            "2": {
              "name": "punctuation.accessor.ps"
            }
          }
        },
        {
          "match": "\\b(map)\\b(\\.)\\b(new)\\b\\s*(<)\\s*\\b(int|float|bool|string|color)\\b\\s*(\\,)\\s*\\b([a-zA-Z_][\\w\\.]*)\\b\\s*(>)",
          "captures": {
            "1": {
              "name": "variable.other.object.ps"
            },
            "2": {
              "name": "punctuation.accessor.ps"
            },
            "3": {
              "name": "keyword.operator.new.ps"
            },
            "4": {
              "name": "punctuation.definition.typeparameters.begin.ps"
            },
            "5": {
              "name": "support.type.primitive.ps"
            },
            "6": {
              "name": "punctuation.separator.comma.ps"
            },
            "7": {
              "name": "support.type.primitive.ps"
            },
            "8": {
              "name": "punctuation.definition.typeparameters.begin.ps"
            }
          }
        },
        {
          "match": "\\b(math)\\b(\\.)\\b(abs|acos|asin|atan|avg|ceil|cos|exp|floor|log10|log|max|min|pow|random|round_to_mintick|round|sign|sin|sqrt|sum|tan|todegrees|toradians)\\b(?=\\s*\\()",
          "captures": {
            "0": {
              "name": "variable.other.object.property.ps"
            },
            "1": {
              "name": "variable.other.object.ps"
            },
            "2": {
              "name": "punctuation.accessor.ps"
            }
          }
        },
        {
          "match": "\\b(request)\\b(\\.)\\b(currency_rate|dividends|earnings|economic|financial|quandl|security_lower_tf|security|seed|splits)\\b(?=\\s*\\()",
          "captures": {
            "0": {
              "name": "variable.other.object.property.ps"
            },
            "1": {
              "name": "variable.other.object.ps"
            },
            "2": {
              "name": "punctuation.accessor.ps"
            }
          }
        },
        {
          "match": "\\b(runtime)\\b(\\.)\\b(error)\\b(?=\\s*\\()",
          "captures": {
            "0": {
              "name": "variable.other.object.property.ps"
            },
            "1": {
              "name": "variable.other.object.ps"
            },
            "2": {
              "name": "punctuation.accessor.ps"
            }
          }
        },
        {
          "match": "\\b(str)\\b(\\.)\\b(contains|endswith|format_time|format|length|lower|match|pos|replace_all|replace|split|startswith|substring|tonumber|tostring|upper)\\b(?=\\s*\\()",
          "captures": {
            "0": {
              "name": "variable.other.object.property.ps"
            },
            "1": {
              "name": "variable.other.object.ps"
            },
            "2": {
              "name": "punctuation.accessor.ps"
            }
          }
        },
        {
          "match": "\\b(strategy)\\b(\\.)\\b(closedtrades)\\b(\\.)\\b(commission|entry_bar_index|entry_comment|entry_id|entry_price|entry_time|exit_bar_index|exit_comment|exit_id|exit_price|exit_time|max_drawdown|max_runup|profit|size)\\b(?=\\s*\\()",
          "captures": {
            "0": {
              "name": "variable.other.object.property.ps"
            },
            "1": {
              "name": "variable.other.object.ps"
            },
            "2": {
              "name": "punctuation.accessor.ps"
            },
            "3": {
              "name": "variable.other.object.ps"
            },
            "4": {
              "name": "punctuation.accessor.ps"
            }
          }
        },
        {
          "match": "\\b(strategy)\\b(\\.)\\b(opentrades)(\\.)\\b(commission|entry_bar_index|entry_comment|entry_id|entry_price|entry_time|max_drawdown|max_runup|profit|size)\\b(?=\\s*\\()",
          "captures": {
            "0": {
              "name": "variable.other.object.property.ps"
            },
            "1": {
              "name": "variable.other.object.ps"
            },
            "2": {
              "name": "punctuation.accessor.ps"
            },
            "3": {
              "name": "variable.other.object.ps"
            },
            "4": {
              "name": "punctuation.accessor.ps"
            }
          }
        },
        {
          "match": "\\b(strategy)\\b(\\.)\\b(risk)\\b(\\.)\\b(allow_entry_in|max_cons_loss_days|max_drawdown|max_intraday_filled_orders|max_intraday_loss|max_position_size)\\b(?=\\s*\\()",
          "captures": {
            "0": {
              "name": "variable.other.object.property.ps"
            },
            "1": {
              "name": "variable.other.object.ps"
            },
            "2": {
              "name": "punctuation.accessor.ps"
            },
            "3": {
              "name": "variable.other.object.ps"
            },
            "4": {
              "name": "punctuation.accessor.ps"
            }
          }
        },
        {
          "match": "\\b(strategy)\\b(\\.)\\b(cancel_all|cancel|close_all|close|convert_to_account|convert_to_symbol|entry|exit|order)\\b(?=\\s*\\()",
          "captures": {
            "0": {
              "name": "variable.other.object.property.ps"
            },
            "1": {
              "name": "variable.other.object.ps"
            },
            "2": {
              "name": "punctuation.accessor.ps"
            }
          }
        },
        {
          "match": "\\b(syminfo)\\b(\\.)\\b(prefix|ticker)\\b(?=\\s*\\()",
          "captures": {
            "0": {
              "name": "variable.other.object.property.ps"
            },
            "1": {
              "name": "variable.other.object.ps"
            },
            "2": {
              "name": "punctuation.accessor.ps"
            }
          }
        },
        {
          "match": "\\b(ta)\\b(\\.)\\b(alma|atr|barssince|bbw|bb|cci|change|cmo|cog|correlation|crossover|crossunder|cross|cum|dev|dmi|ema|falling|highestbars|highest|hma|kcw|kc|linreg|lowestbars|lowest|macd|max|median|mfi|min|mode|mom|percentile_linear_interpolation|percentile_nearest_rank|percentrank|pivot_point_levels|pivothigh|pivotlow|range|rising|rma|roc|rsi|sar|sma|stdev|stoch|supertrend|swma|tr|tsi|valuewhen|variance|vwap|vwma|wma|wpr)\\b(?=\\s*\\()",
          "captures": {
            "0": {
              "name": "variable.other.object.property.ps"
            },
            "1": {
              "name": "variable.other.object.ps"
            },
            "2": {
              "name": "punctuation.accessor.ps"
            }
          }
        },
        {
          "match": "\\b(table)\\b(\\.)\\b(cell_set_bgcolor|cell_set_height|cell_set_text_color|cell_set_text_font_family|cell_set_text_halign|cell_set_text_size|cell_set_text_valign|cell_set_text|cell_set_tooltip|cell_set_width|cell|clear|delete|merge_cells|set_bgcolor|set_border_color|set_border_width|set_frame_color|set_frame_width|set_position)\\b(?=\\s*\\()",
          "captures": {
            "0": {
              "name": "variable.other.object.property.ps"
            },
            "1": {
              "name": "variable.other.object.ps"
            },
            "2": {
              "name": "punctuation.accessor.ps"
            }
          }
        },
        {
          "match": "\\b(ticker)\\b(\\.)\\b(heikinashi|kagi|linebreak|modify|pointfigure|renko|standard)\\b(?=\\s*\\()",
          "captures": {
            "0": {
              "name": "variable.other.object.property.ps"
            },
            "1": {
              "name": "variable.other.object.ps"
            },
            "2": {
              "name": "punctuation.accessor.ps"
            }
          }
        },
        {
          "match": "\\b(timeframe)\\b(\\.)\\b(change|in_seconds)\\b(?=\\s*\\()",
          "captures": {
            "0": {
              "name": "variable.other.object.property.ps"
            },
            "1": {
              "name": "variable.other.object.ps"
            },
            "2": {
              "name": "punctuation.accessor.ps"
            }
          }
        },
        {
          "match": "\\b(alert|alertcondition|barcolor|bgcolor|bool|box|color|dayofmonth|dayofweek|fixnan|float|hline|hour|input|int|label|line|linefill|max_bars_back|minute|month|na|nz|plot|plotarrow|plotbar|plotcandle|plotchar|plotshape|second|string|table|time_close|timestamp|time|weekofyear|year)(?=\\s*\\((?!\\s*\\)))",
          "name": "variable.other.object.property.ps"
        },
        {"include": "#built_in_constants"},
        {"include": "#array_fuctions"},
        {"include": "#box_fuctions"},
        {"include": "#label_fuctions"},
        {"include": "#line_fuctions"},
        {"include": "#linefill_fuctions"},
        {"include": "#matrix_fuctions"},
        {"include": "#table_fuctions"},
        {"include": "#long_functions"},
        {
          "match": "\\b(fill)(?:\\s*\\()(?!\\s*[\"'\\)])",
          "name": "variable.other.object.property.ps"
        },
        {
          "match": "\\b([a-zA-Z_]\\w*)\\b(\\.)\\b(new)\\b(?=\\s*\\()",
          "captures": {
            "0": {
              "name": "keyword.operator.new.ps"
            },
            "1": {
              "name": "support.type.primitive.ps"
            },
            "2": {
              "name": "punctuation.accessor.ps"
            }
          }
        },
        {
          "match": "\\b([a-zA-Z_][\\w\\.]*)\\b(\\.)\\b([a-zA-Z_]\\w*)\\b(\\.)\\b(new)\\b(?=\\s*\\()",
          "captures": {
            "1": {
              "patterns": [
                {
                  "match": "[a-zA-Z_]\\w*",
                  "name":"support.type.primitive.ps"
                },
                {
                  "match": "\\.",
                  "name":"punctuation.accessor.ps"
                }
              ]
            },
            "2": {"name": "punctuation.accessor.ps"},
            "3": {"name": "support.type.primitive.ps"},
            "4": {"name": "punctuation.accessor.ps"},
            "5": {"name": "keyword.operator.new.ps"}
          }
        },
        {
          "match": "\\b([a-zA-Z_][\\w\\.]*)\\b(\\.)\\b([a-zA-Z_]\\w*)\\b(\\.)\\b([a-zA-Z_]\\w*)\\b(?=\\s*\\()",
          "captures": {
            "1": {
              "patterns": [
                {
                  "match": "[a-zA-Z_]\\w*",
                  "name":"variable.other.readwrite.ps"
                },
                {
                  "match": "\\.",
                  "name":"punctuation.accessor.ps"
                }
              ]
            },
            "2": {"name": "punctuation.accessor.ps"},
            "3": {"name": "variable.other.readwrite.ps"},
            "4": {"name": "punctuation.accessor.ps"},
            "5": {"name": "entity.name.function.ps"}
          }
        },
        {
          "match": "\\b([a-zA-Z_]\\w*)\\b(\\.)\\b([a-zA-Z_]\\w*)\\b(?=\\s*\\()",
          "captures": {
            "1": {"name": "variable.other.readwrite.ps"},
            "2": {"name": "punctuation.accessor.ps"},
            "3": {"name": "entity.name.function.ps"}
          }
        },
        {
          "match": "\\b([a-zA-Z_]\\w*)\\b(?=\\s*\\()",
          "name": "entity.name.function.ps"
        },
        {
          "match": "(\\()(\\))\\s*(=>)",
          "captures": {
            "1":{"name":"meta.brace.round.ps"},
            "2":{"name":"meta.brace.round.ps"},
            "3":{"name":"storage.type.function.arrow.ps"}
          }
        },
        {
          "match": "(\\))\\s*(=>)",
          "captures": {
            "1":{"name":"meta.brace.round.ps"},
            "2":{"name":"storage.type.function.arrow.ps"}
          }
        }
      ]
    },
    "keywords": {
      "patterns": [
        {
          "match": "\\b(if|elseif|else|return)\\b",
          "name": "keyword.control.conditional.ps"
        },
        {
          "match": "\\b(switch)\\b",
          "name": "keyword.control.switch.ps"
        },
        {
          "match": "=>",
          "name": "keyword.control.switch.ps"
        },
        {
          "match": "\\b(in|continue|break|for|to|while|by)\\b",
          "name": "keyword.control.loop.ps"
        },
        {
          "match": "\\b(var|varip)\\b",
          "name": "storage.type.ps"
        },
        {
          "match": "\\b(and|or|not)\\b",
          "name": "keyword.operator.word.ps"
        }
      ]
    },
    "types":{
      "patterns": [
        {
          "include": "#array_matrix_new"
        },
        {
          "match": "\\b(export)\\b\\s+\\b(type)\\b\\s+\\b([a-zA-Z_]\\w*)\\b(?=\\s*(?:\\s*//.*)?$)",
          "captures": {
            "1": {"name": "keyword.control.export.ps"},
            "2": {"name": "storage.type.type.ps"},
            "3": {"name": "support.type.primitive.ps"}
          }
        },
        {
          "match": "\\b(type)\\b\\s+\\b([a-zA-Z_]\\w*)\\b(?=\\s*(?:\\s*//.*)?$)",
          "captures": {
            "1":{"name":"storage.type.type.ps"},
            "2": {"name": "support.type.primitive.ps"}
          }
        },
        {
          "match": "^\\btype\\b",
          "name": "storage.type.type.ps"
        }
      ]
    },
    "variables": {
      "patterns": [
        {
          "match": "\\b([\\w\\.]+)(\\s*\\[\\s*\\])?\\s+([a-zA-Z_]\\w*)\\s*(?=\\=)(?!\\=\\=)",
          "captures": {
            "1":{"patterns": [
              {"include": "#keywords"},
              {"include": "#keyword_control_words"},
              {
                "match": ".*",
                "name":"entity.name.type.class.ps"
              }
            ]},
            "2":{"name":"meta.brace.square.ps"},
            "3":{"name":"variable.other.readwrite.ps"}
          }
        },
        {
          "match": "\\b[a-zA-Z_][a-zA-Z0-9_]*\\s*(?=\\=|:=)",
          "name": "variable.other.readwrite.ps"
        },
        {
          "match": "^\\s*\\b([\\w\\.]+)(\\s*\\[\\s*\\])?\\s+([a-zA-Z_][a-zA-Z0-9_]*)\\s*(?=(?:\\s*//.*)?$)",
          "captures": {
            "1":{"patterns": [
              {"include": "#keywords"},
              {"include": "#keyword_control_words"},
              {
                "match": ".*",
                "name":"entity.name.type.class.ps"
              }
            ]},
            "2":{"name":"meta.brace.square.ps"},
            "3":{"name":"variable.other.readwrite.ps"}
          }
        }
      ]
    },
    "operators": {
      "patterns": [
        {
          "match": "(\\-\\=|\\+\\=|\\*\\=|/=|%=)",
          "name": "keyword.operator.assignment.compound.ps"
        },
        {
          "match": "(\\-|\\+|\\*|/|%)",
          "name": "keyword.operator.arithmetic.ps"
        },
        {
          "match": "(<=|>=|<|>)",
          "name": "keyword.operator.relational.ps"
        },
        {
          "match": "(={2}|!=)",
          "name": "keyword.operator.comparison.ps"
        },
        {
          "match": ":=",
          "name": "keyword.operator.assignment.ps"
        },
        {
          "match": "(\\?|\\:)",
          "name": "keyword.operator.ternary.ps"
        },
        {
          "match": "\\.",
          "name": "punctuation.accessor.ps"
        },
        {
          "match": "\\(",
          "name": "meta.brace.round.ps"
        },
        {
          "match": "\\)",
          "name": "meta.brace.round.ps"
        },
        {
          "match": "[]\\[]",
          "name": "meta.brace.square.ps"
        },
        {
          "match": "\\,",
          "name": "punctuation.separator.comma.ps"
        },
        {
          "match": "=",
          "name": "keyword.operator.assignment.ps"
        },
        {"include": "#keyword_control_words"},
        {"include": "#support_type"}
      ]
    },
    "parameters":{
      "patterns": [
        {
          "match": "\\b[a-zA-Z_][a-zA-Z0-9_]*\\b",
          "name": "variable.other.readwrite.ps"
        }
      ]
    },
    "array_matrix_new":{
      "patterns": [
        {
          "match": "\\b(array|matrix)\\b\\s*(<)\\s*([a-zA-Z_][\\w\\.]*)\\b\\s*(>)",
          "captures": {
            "1":{"name":"support.type.primitive.ps"},
            "2":{"name":"punctuation.definition.typeparameters.begin.ps"},
            "3":{"name":"support.type.primitive.ps"},
            "4":{"name":"punctuation.definition.typeparameters.begin.ps"}
          }
        }
      ]
    },
    "array_new":{
      "patterns": [
        {
          "match": "\\b([a-zA-Z_][\\w\\.]*)\\s*(\\[\\])",
          "captures": {
            "0":{"name":"support.type.primitive.ps"},
            "1":{"name":"support.type.primitive.ps"},
            "2":{"name":"meta.brace.square.ps"}
          }
        }
      ]
    },
    "long_functions":{
      "patterns": [
        {
          "match": "(?<=^(?:\\s*export\\s*)?(?:\\s*method\\s*)?\\s*\\b\\w+\\s*\\()([\\s\\S]*)(?=\\)\\s*\\=>)",
          "captures": {
            "1":{
              "patterns": [
                {"include": "#strings"},
                {"include": "#array_matrix_new"},
                {"include": "#array_new"},
                {"include": "#constants"},
                {"include": "#support_type"},
                {"include": "#built_in_constants"},
                {"include": "#user_define_types"},
                {
                  "match": "\\b([a-zA-Z_]\\w*)\\b",
                  "name":"variable.parameter.ps"
                },
                {
                  "include": "#operators"
                }
              ]
            }
          }
        },
        {
          "match": "(?<=^(?:\\s*export\\s*)?(?:\\s*method\\s*)?\\b\\w+\\s*\\()\\b((?:\\s*\\b[\\w][^\\(\\)]*\\s*\\,)*\\s*(?:\\b[\\w\\.\\<\\>\\[\\]]+\\s+\\b\\w+\\s*(?:\\=\\s*[^\\(\\)\\s]*)?)(?:\\s*\\,\\s*\\b[\\w][^\\(\\)]*)*)(?=\\,\\s*(?://.*)?$)",
          "captures": {
            "1":{
              "patterns": [
                {"include": "#strings"},
                {"include": "#array_matrix_new"},
                {"include": "#array_new"},
                {"include": "#constants"},
                {"include": "#support_type"},
                {"include": "#built_in_constants"},
                {"include": "#user_define_types"},
                {
                  "match": "\\b([a-zA-Z_]\\w*)\\b",
                  "name":"variable.parameter.ps"
                },
                {
                  "include": "#operators"
                }
              ]
            }
          }
        },
        {
          "match": "(?<=^\\s*)\\b((?:\\s*\\b[\\w][^\\(\\)]*\\s*\\,)*\\s*(?:\\b[\\w\\.\\<\\>\\[\\]]+\\s+\\b\\w+\\s*(?:\\=\\s*[^\\(\\)\\s]*)?)(?:\\s*\\,\\s*\\b[\\w][^\\(\\)]*)*)(?=\\,\\s*(?://.*)?$)",
          "captures": {
            "1":{
              "patterns": [
                {"include": "#strings"},
                {"include": "#array_matrix_new"},
                {"include": "#array_new"},
                {"include": "#constants"},
                {"include": "#support_type"},
                {"include": "#built_in_constants"},
                {"include": "#user_define_types"},
                {
                  "match": "\\b([a-zA-Z_]\\w*)\\b",
                  "name":"variable.parameter.ps"
                },
                {
                  "include": "#operators"
                }
              ]
            }
          }
        },
        {
          "match": "(?<=^\\s*)\\b([\\w][^\\(\\)]*)(?=\\)\\s*\\=>)",
          "captures": {
            "1":{
              "patterns": [
                {"include": "#strings"},
                {"include": "#array_matrix_new"},
                {"include": "#array_new"},
                {"include": "#constants"},
                {"include": "#support_type"},
                {"include": "#built_in_constants"},
                {"include": "#user_define_types"},
                {
                  "match": "\\b([a-zA-Z_]\\w*)\\b",
                  "name":"variable.parameter.ps"
                },
                {
                  "include": "#operators"
                }
              ]
            }
          }
        }
      ]
    },
    "user_define_types":{
      "patterns": [
        {
          "match": "\\b([\\w\\.]+)\\b\\s+([a-zA-Z_]\\w*)\\b",
                  "captures": {
                    "1":{"name":"support.type.primitive.ps"},
                    "2":{"name":"variable.parameter.ps"}
                  }
        }
      ]
    },
    "array_fuctions":{
      "patterns":[
        {
          "match": "(?:([\\w\\.]*)|(?<=\\)))(\\.)\\b(max|min|sort_indices|sort|stdev)\\b(?=\\s*\\()",
          "captures": {
            "1": {
              "patterns": [
                {
                  "match": "\\b([a-zA-Z_]\\w*)\\b",
                  "name":"variable.other.readwrite.ps"
                },
                {
                  "match": "\\b([a-zA-Z_][\\w\\.]*)\\b(\\.)\\b([a-zA-Z_]\\w*)\\b",
                  "captures": {
                    "1": {
                      "patterns": [
                        {
                          "match": "[a-zA-Z_]\\w*",
                          "name":"variable.other.readwrite.ps"
                        },
                        {
                          "match": "\\.",
                          "name":"punctuation.accessor.ps"
                        }
                      ]
                    },
                    "2": {"name": "punctuation.accessor.ps"},
                    "3": {"name": "variable.other.readwrite.ps"}
                  }
                }
              ]
            },
            "2": {
              "name": "punctuation.accessor.ps"
            },
            "3":{
              "name": "variable.other.object.property.ps"
            }
          }
        },
        {
          "match": "(?:([\\w\\.]*)|(?<=\\)))(\\.)\\b(binary_search_leftmost|binary_search_rightmost|binary_search|concat|covariance|get|percentile_linear_interpolation|percentile_nearest_rank|percentrank|remove|set|slice|variance)\\b(?=\\s*\\((?!\\s*[\"'\\)]))",
          "captures": {
            "1": {
              "patterns": [
                {
                  "match": "\\b([a-zA-Z_]\\w*)\\b",
                  "name":"variable.other.readwrite.ps"
                },
                {
                  "match": "\\b([a-zA-Z_][\\w\\.]*)\\b(\\.)\\b([a-zA-Z_]\\w*)\\b",
                  "captures": {
                    "1": {
                      "patterns": [
                        {
                          "match": "[a-zA-Z_]\\w*",
                          "name":"variable.other.readwrite.ps"
                        },
                        {
                          "match": "\\.",
                          "name":"punctuation.accessor.ps"
                        }
                      ]
                    },
                    "2": {"name": "punctuation.accessor.ps"},
                    "3": {"name": "variable.other.readwrite.ps"}
                  }
                }
              ]
            },
            "2": {
              "name": "punctuation.accessor.ps"
            },
            "3":{
              "name": "variable.other.object.property.ps"
            }
          }
        },
        {
          "match": "(?:([\\w\\.]*)|(?<=\\)))(\\.)\\b(fill|from|includes|indexof|insert|join|lastindexof|push|unshift)\\b(?=\\s*\\((?!\\s*\\)))",
          "captures": {
            "1": {
              "patterns": [
                {
                  "match": "\\b([a-zA-Z_]\\w*)\\b",
                  "name":"variable.other.readwrite.ps"
                },
                {
                  "match": "\\b([a-zA-Z_][\\w\\.]*)\\b(\\.)\\b([a-zA-Z_]\\w*)\\b",
                  "captures": {
                    "1": {
                      "patterns": [
                        {
                          "match": "[a-zA-Z_]\\w*",
                          "name":"variable.other.readwrite.ps"
                        },
                        {
                          "match": "\\.",
                          "name":"punctuation.accessor.ps"
                        }
                      ]
                    },
                    "2": {"name": "punctuation.accessor.ps"},
                    "3": {"name": "variable.other.readwrite.ps"}
                  }
                }
              ]
            },
            "2": {
              "name": "punctuation.accessor.ps"
            },
            "3":{
              "name": "variable.other.object.property.ps"
            }
          }
        },
        {
          "match": "(?:([\\w\\.]*)|(?<=\\)))(\\.)\\b(abs|avg|clear|copy|every|first|last|median|mode|pop|range|reverse|shift|size|some|standardize|sum)\\b(?=\\s*\\(\\s*\\))",
          "captures": {
            "1": {
              "patterns": [
                {
                  "match": "\\b([a-zA-Z_]\\w*)\\b",
                  "name":"variable.other.readwrite.ps"
                },
                {
                  "match": "\\b([a-zA-Z_][\\w\\.]*)\\b(\\.)\\b([a-zA-Z_]\\w*)\\b",
                  "captures": {
                    "1": {
                      "patterns": [
                        {
                          "match": "[a-zA-Z_]\\w*",
                          "name":"variable.other.readwrite.ps"
                        },
                        {
                          "match": "\\.",
                          "name":"punctuation.accessor.ps"
                        }
                      ]
                    },
                    "2": {"name": "punctuation.accessor.ps"},
                    "3": {"name": "variable.other.readwrite.ps"}
                  }
                }
              ]
            },
            "2": {
              "name": "punctuation.accessor.ps"
            },
            "3":{
              "name": "variable.other.object.property.ps"
            }
          }
        }
      ]
    },
    "box_fuctions":{
      "patterns":[
        {
          "match": "(?:([\\w\\.]*)|(?<=\\)))(\\.)\\b(set_bgcolor|set_border_color|set_border_style|set_border_width|set_bottom_right_point|set_bottom|set_extend|set_lefttop|set_left|set_rightbottom|set_right|set_text_color|set_text_font_family|set_text_halign|set_text_size|set_text_valign|set_text_wrap|set_top_left_point|set_top)\\b(?=\\s*\\((?!\\s*[\"'\\)]))",
          "captures": {
            "1": {
              "patterns": [
                {
                  "match": "\\b([a-zA-Z_]\\w*)\\b",
                  "name":"variable.other.readwrite.ps"
                },
                {
                  "match": "\\b([a-zA-Z_][\\w\\.]*)\\b(\\.)\\b([a-zA-Z_]\\w*)\\b",
                  "captures": {
                    "1": {
                      "patterns": [
                        {
                          "match": "[a-zA-Z_]\\w*",
                          "name":"variable.other.readwrite.ps"
                        },
                        {
                          "match": "\\.",
                          "name":"punctuation.accessor.ps"
                        }
                      ]
                    },
                    "2": {"name": "punctuation.accessor.ps"},
                    "3": {"name": "variable.other.readwrite.ps"}
                  }
                }
              ]
            },
            "2": {
              "name": "punctuation.accessor.ps"
            },
            "3":{
              "name": "variable.other.object.property.ps"
            }
          }
        },
        {
          "match": "(?:([\\w\\.]*)|(?<=\\)))(\\.)\\b(set_text)\\b(?=\\s*\\((?!\\s*\\)))",
          "captures": {
            "1": {
              "patterns": [
                {
                  "match": "\\b([a-zA-Z_]\\w*)\\b",
                  "name":"variable.other.readwrite.ps"
                },
                {
                  "match": "\\b([a-zA-Z_][\\w\\.]*)\\b(\\.)\\b([a-zA-Z_]\\w*)\\b",
                  "captures": {
                    "1": {
                      "patterns": [
                        {
                          "match": "[a-zA-Z_]\\w*",
                          "name":"variable.other.readwrite.ps"
                        },
                        {
                          "match": "\\.",
                          "name":"punctuation.accessor.ps"
                        }
                      ]
                    },
                    "2": {"name": "punctuation.accessor.ps"},
                    "3": {"name": "variable.other.readwrite.ps"}
                  }
                }
              ]
            },
            "2": {
              "name": "punctuation.accessor.ps"
            },
            "3":{
              "name": "variable.other.object.property.ps"
            }
          }
        },
        {
          "match": "(?:([\\w\\.]*)|(?<=\\)))(\\.)\\b(copy|delete|get_bottom|get_left|get_right|get_top)\\b(?=\\s*\\(\\s*\\))",
          "captures": {
            "1": {
              "patterns": [
                {
                  "match": "\\b([a-zA-Z_]\\w*)\\b",
                  "name":"variable.other.readwrite.ps"
                },
                {
                  "match": "\\b([a-zA-Z_][\\w\\.]*)\\b(\\.)\\b([a-zA-Z_]\\w*)\\b",
                  "captures": {
                    "1": {
                      "patterns": [
                        {
                          "match": "[a-zA-Z_]\\w*",
                          "name":"variable.other.readwrite.ps"
                        },
                        {
                          "match": "\\.",
                          "name":"punctuation.accessor.ps"
                        }
                      ]
                    },
                    "2": {"name": "punctuation.accessor.ps"},
                    "3": {"name": "variable.other.readwrite.ps"}
                  }
                }
              ]
            },
            "2": {
              "name": "punctuation.accessor.ps"
            },
            "3":{
              "name": "variable.other.object.property.ps"
            }
          }
        }
      ]
    },
    "label_fuctions":{
      "patterns":[
        {
          "match": "(?:([\\w\\.]*)|(?<=\\)))(\\.)\\b(set_size)\\b(?=\\s*\\()",
          "captures": {
            "1": {
              "patterns": [
                {
                  "match": "\\b([a-zA-Z_]\\w*)\\b",
                  "name":"variable.other.readwrite.ps"
                },
                {
                  "match": "\\b([a-zA-Z_][\\w\\.]*)\\b(\\.)\\b([a-zA-Z_]\\w*)\\b",
                  "captures": {
                    "1": {
                      "patterns": [
                        {
                          "match": "[a-zA-Z_]\\w*",
                          "name":"variable.other.readwrite.ps"
                        },
                        {
                          "match": "\\.",
                          "name":"punctuation.accessor.ps"
                        }
                      ]
                    },
                    "2": {"name": "punctuation.accessor.ps"},
                    "3": {"name": "variable.other.readwrite.ps"}
                  }
                }
              ]
            },
            "2": {
              "name": "punctuation.accessor.ps"
            },
            "3":{
              "name": "variable.other.object.property.ps"
            }
          }
        },
        {
          "match": "(?:([\\w\\.]*)|(?<=\\)))(\\.)\\b(set_color|set_point|set_style|set_text_font_family|set_textalign|set_textcolor|set_x|set_xloc|set_xy|set_y|set_yloc)\\b(?=\\s*\\((?!\\s*[\"'\\)]))",
          "captures": {
            "1": {
              "patterns": [
                {
                  "match": "\\b([a-zA-Z_]\\w*)\\b",
                  "name":"variable.other.readwrite.ps"
                },
                {
                  "match": "\\b([a-zA-Z_][\\w\\.]*)\\b(\\.)\\b([a-zA-Z_]\\w*)\\b",
                  "captures": {
                    "1": {
                      "patterns": [
                        {
                          "match": "[a-zA-Z_]\\w*",
                          "name":"variable.other.readwrite.ps"
                        },
                        {
                          "match": "\\.",
                          "name":"punctuation.accessor.ps"
                        }
                      ]
                    },
                    "2": {"name": "punctuation.accessor.ps"},
                    "3": {"name": "variable.other.readwrite.ps"}
                  }
                }
              ]
            },
            "2": {
              "name": "punctuation.accessor.ps"
            },
            "3":{
              "name": "variable.other.object.property.ps"
            }
          }
        },
        {
          "match": "(?:([\\w\\.]*)|(?<=\\)))(\\.)\\b(set_text|set_tooltip)\\b(?=\\s*\\((?!\\s*\\)))",
          "captures": {
            "1": {
              "patterns": [
                {
                  "match": "\\b([a-zA-Z_]\\w*)\\b",
                  "name":"variable.other.readwrite.ps"
                },
                {
                  "match": "\\b([a-zA-Z_][\\w\\.]*)\\b(\\.)\\b([a-zA-Z_]\\w*)\\b",
                  "captures": {
                    "1": {
                      "patterns": [
                        {
                          "match": "[a-zA-Z_]\\w*",
                          "name":"variable.other.readwrite.ps"
                        },
                        {
                          "match": "\\.",
                          "name":"punctuation.accessor.ps"
                        }
                      ]
                    },
                    "2": {"name": "punctuation.accessor.ps"},
                    "3": {"name": "variable.other.readwrite.ps"}
                  }
                }
              ]
            },
            "2": {
              "name": "punctuation.accessor.ps"
            },
            "3":{
              "name": "variable.other.object.property.ps"
            }
          }
        },
        {
          "match": "(?:([\\w\\.]*)|(?<=\\)))(\\.)\\b(copy|delete|get_text|get_x|get_y)\\b(?=\\s*\\(\\s*\\))",
          "captures": {
            "1": {
              "patterns": [
                {
                  "match": "\\b([a-zA-Z_]\\w*)\\b",
                  "name":"variable.other.readwrite.ps"
                },
                {
                  "match": "\\b([a-zA-Z_][\\w\\.]*)\\b(\\.)\\b([a-zA-Z_]\\w*)\\b",
                  "captures": {
                    "1": {
                      "patterns": [
                        {
                          "match": "[a-zA-Z_]\\w*",
                          "name":"variable.other.readwrite.ps"
                        },
                        {
                          "match": "\\.",
                          "name":"punctuation.accessor.ps"
                        }
                      ]
                    },
                    "2": {"name": "punctuation.accessor.ps"},
                    "3": {"name": "variable.other.readwrite.ps"}
                  }
                }
              ]
            },
            "2": {
              "name": "punctuation.accessor.ps"
            },
            "3":{
              "name": "variable.other.object.property.ps"
            }
          }
        }
      ]
    },
    "line_fuctions":{
      "patterns":[
        {
          "match": "(?:([\\w\\.]*)|(?<=\\)))(\\.)\\b(get_price|set_color|set_extend|set_first_point|set_second_point|set_style|set_width|set_x1|set_x2|set_xloc|set_xy1|set_xy2|set_y1|set_y2)\\b(?=\\s*\\((?!\\s*[\"'\\)]))",
          "captures": {
            "1": {
              "patterns": [
                {
                  "match": "\\b([a-zA-Z_]\\w*)\\b",
                  "name":"variable.other.readwrite.ps"
                },
                {
                  "match": "\\b([a-zA-Z_][\\w\\.]*)\\b(\\.)\\b([a-zA-Z_]\\w*)\\b",
                  "captures": {
                    "1": {
                      "patterns": [
                        {
                          "match": "[a-zA-Z_]\\w*",
                          "name":"variable.other.readwrite.ps"
                        },
                        {
                          "match": "\\.",
                          "name":"punctuation.accessor.ps"
                        }
                      ]
                    },
                    "2": {"name": "punctuation.accessor.ps"},
                    "3": {"name": "variable.other.readwrite.ps"}
                  }
                }
              ]
            },
            "2": {
              "name": "punctuation.accessor.ps"
            },
            "3":{
              "name": "variable.other.object.property.ps"
            }
          }
        },
        {
          "match": "(?:([\\w\\.]*)|(?<=\\)))(\\.)\\b(copy|delete|get_x1|get_x2|get_y1|get_y2)\\b(?=\\s*\\(\\s*\\))",
          "captures": {
            "1": {
              "patterns": [
                {
                  "match": "\\b([a-zA-Z_]\\w*)\\b",
                  "name":"variable.other.readwrite.ps"
                },
                {
                  "match": "\\b([a-zA-Z_][\\w\\.]*)\\b(\\.)\\b([a-zA-Z_]\\w*)\\b",
                  "captures": {
                    "1": {
                      "patterns": [
                        {
                          "match": "[a-zA-Z_]\\w*",
                          "name":"variable.other.readwrite.ps"
                        },
                        {
                          "match": "\\.",
                          "name":"punctuation.accessor.ps"
                        }
                      ]
                    },
                    "2": {"name": "punctuation.accessor.ps"},
                    "3": {"name": "variable.other.readwrite.ps"}
                  }
                }
              ]
            },
            "2": {
              "name": "punctuation.accessor.ps"
            },
            "3":{
              "name": "variable.other.object.property.ps"
            }
          }
        }
      ]
    },
    "linefill_fuctions":{
      "patterns":[
        {
          "match": "(?:([\\w\\.]*)|(?<=\\)))(\\.)\\b(set_color)\\b(?=\\s*\\((?!\\s*[\"'\\)]))",
          "captures": {
            "1": {
              "patterns": [
                {
                  "match": "\\b([a-zA-Z_]\\w*)\\b",
                  "name":"variable.other.readwrite.ps"
                },
                {
                  "match": "\\b([a-zA-Z_][\\w\\.]*)\\b(\\.)\\b([a-zA-Z_]\\w*)\\b",
                  "captures": {
                    "1": {
                      "patterns": [
                        {
                          "match": "[a-zA-Z_]\\w*",
                          "name":"variable.other.readwrite.ps"
                        },
                        {
                          "match": "\\.",
                          "name":"punctuation.accessor.ps"
                        }
                      ]
                    },
                    "2": {"name": "punctuation.accessor.ps"},
                    "3": {"name": "variable.other.readwrite.ps"}
                  }
                }
              ]
            },
            "2": {
              "name": "punctuation.accessor.ps"
            },
            "3":{
              "name": "variable.other.object.property.ps"
            }
          }
        },
        {
          "match": "(?:([\\w\\.]*)|(?<=\\)))(\\.)\\b(delete|get_line1|get_line2)\\b(?=\\s*\\(\\s*\\))",
          "captures": {
            "1": {
              "patterns": [
                {
                  "match": "\\b([a-zA-Z_]\\w*)\\b",
                  "name":"variable.other.readwrite.ps"
                },
                {
                  "match": "\\b([a-zA-Z_][\\w\\.]*)\\b(\\.)\\b([a-zA-Z_]\\w*)\\b",
                  "captures": {
                    "1": {
                      "patterns": [
                        {
                          "match": "[a-zA-Z_]\\w*",
                          "name":"variable.other.readwrite.ps"
                        },
                        {
                          "match": "\\.",
                          "name":"punctuation.accessor.ps"
                        }
                      ]
                    },
                    "2": {"name": "punctuation.accessor.ps"},
                    "3": {"name": "variable.other.readwrite.ps"}
                  }
                }
              ]
            },
            "2": {
              "name": "punctuation.accessor.ps"
            },
            "3":{
              "name": "variable.other.object.property.ps"
            }
          }
        }
      ]
    },
    "matrix_fuctions":{
      "patterns":[
        {
          "match": "(?:([\\w\\.]*)|(?<=\\)))(\\.)\\b(add_col|add_row|remove_col|remove_row|sort|submatrix)\\b(?=\\s*\\()",
          "captures": {
            "1": {
              "patterns": [
                {
                  "match": "\\b([a-zA-Z_]\\w*)\\b",
                  "name":"variable.other.readwrite.ps"
                },
                {
                  "match": "\\b([a-zA-Z_][\\w\\.]*)\\b(\\.)\\b([a-zA-Z_]\\w*)\\b",
                  "captures": {
                    "1": {
                      "patterns": [
                        {
                          "match": "[a-zA-Z_]\\w*",
                          "name":"variable.other.readwrite.ps"
                        },
                        {
                          "match": "\\.",
                          "name":"punctuation.accessor.ps"
                        }
                      ]
                    },
                    "2": {"name": "punctuation.accessor.ps"},
                    "3": {"name": "variable.other.readwrite.ps"}
                  }
                }
              ]
            },
            "2": {
              "name": "punctuation.accessor.ps"
            },
            "3":{
              "name": "variable.other.object.property.ps"
            }
          }
        },
        {
          "match": "(?:([\\w\\.]*)|(?<=\\)))(\\.)\\b(col|concat|diff|get|kron|mult|pow|reshape|row|set|sum|swap_columns|swap_rows)\\b(?=\\s*\\((?!\\s*[\"'\\)]))",
          "captures": {
            "1": {
              "patterns": [
                {
                  "match": "\\b([a-zA-Z_]\\w*)\\b",
                  "name":"variable.other.readwrite.ps"
                },
                {
                  "match": "\\b([a-zA-Z_][\\w\\.]*)\\b(\\.)\\b([a-zA-Z_]\\w*)\\b",
                  "captures": {
                    "1": {
                      "patterns": [
                        {
                          "match": "[a-zA-Z_]\\w*",
                          "name":"variable.other.readwrite.ps"
                        },
                        {
                          "match": "\\.",
                          "name":"punctuation.accessor.ps"
                        }
                      ]
                    },
                    "2": {"name": "punctuation.accessor.ps"},
                    "3": {"name": "variable.other.readwrite.ps"}
                  }
                }
              ]
            },
            "2": {
              "name": "punctuation.accessor.ps"
            },
            "3":{
              "name": "variable.other.object.property.ps"
            }
          }
        },
        {
          "match": "(?:([\\w\\.]*)|(?<=\\)))(\\.)\\b(fill)\\b(?=\\s*\\((?!\\s*\\)))",
          "captures": {
            "1": {
              "patterns": [
                {
                  "match": "\\b([a-zA-Z_]\\w*)\\b",
                  "name":"variable.other.readwrite.ps"
                },
                {
                  "match": "\\b([a-zA-Z_][\\w\\.]*)\\b(\\.)\\b([a-zA-Z_]\\w*)\\b",
                  "captures": {
                    "1": {
                      "patterns": [
                        {
                          "match": "[a-zA-Z_]\\w*",
                          "name":"variable.other.readwrite.ps"
                        },
                        {
                          "match": "\\.",
                          "name":"punctuation.accessor.ps"
                        }
                      ]
                    },
                    "2": {"name": "punctuation.accessor.ps"},
                    "3": {"name": "variable.other.readwrite.ps"}
                  }
                }
              ]
            },
            "2": {
              "name": "punctuation.accessor.ps"
            },
            "3":{
              "name": "variable.other.object.property.ps"
            }
          }
        },
        {
          "match": "(?:([\\w\\.]*)|(?<=\\)))(\\.)\\b(avg|columns|copy|det|eigenvalues|eigenvectors|elements_count|inv|is_antidiagonal|is_antisymmetric|is_binary|is_diagonal|is_identity|is_square|is_stochastic|is_symmetric|is_triangular|is_zero|max|median|min|mode|pinv|rank|reverse|rows|trace|transpose)\\b(?=\\s*\\(\\s*\\))",
          "captures": {
            "1": {
              "patterns": [
                {
                  "match": "\\b([a-zA-Z_]\\w*)\\b",
                  "name":"variable.other.readwrite.ps"
                },
                {
                  "match": "\\b([a-zA-Z_][\\w\\.]*)\\b(\\.)\\b([a-zA-Z_]\\w*)\\b",
                  "captures": {
                    "1": {
                      "patterns": [
                        {
                          "match": "[a-zA-Z_]\\w*",
                          "name":"variable.other.readwrite.ps"
                        },
                        {
                          "match": "\\.",
                          "name":"punctuation.accessor.ps"
                        }
                      ]
                    },
                    "2": {"name": "punctuation.accessor.ps"},
                    "3": {"name": "variable.other.readwrite.ps"}
                  }
                }
              ]
            },
            "2": {
              "name": "punctuation.accessor.ps"
            },
            "3":{
              "name": "variable.other.object.property.ps"
            }
          }
        }
      ]
    },
    "table_fuctions":{
      "patterns":[
        {
          "match": "(?:([\\w\\.]*)|(?<=\\)))(\\.)\\b(set_bgcolor|set_border_color|set_border_width|set_frame_color|set_frame_width)\\b(?=\\s*\\()",
          "captures": {
            "1": {
              "patterns": [
                {
                  "match": "\\b([a-zA-Z_]\\w*)\\b",
                  "name":"variable.other.readwrite.ps"
                },
                {
                  "match": "\\b([a-zA-Z_][\\w\\.]*)\\b(\\.)\\b([a-zA-Z_]\\w*)\\b",
                  "captures": {
                    "1": {
                      "patterns": [
                        {
                          "match": "[a-zA-Z_]\\w*",
                          "name":"variable.other.readwrite.ps"
                        },
                        {
                          "match": "\\.",
                          "name":"punctuation.accessor.ps"
                        }
                      ]
                    },
                    "2": {"name": "punctuation.accessor.ps"},
                    "3": {"name": "variable.other.readwrite.ps"}
                  }
                }
              ]
            },
            "2": {
              "name": "punctuation.accessor.ps"
            },
            "3":{
              "name": "variable.other.object.property.ps"
            }
          }
        },
        {
          "match": "(?:([\\w\\.]*)|(?<=\\)))(\\.)\\b(cell_set_bgcolor|cell_set_height|cell_set_text_color|cell_set_text_font_family|cell_set_text_halign|cell_set_text_size|cell_set_text_valign|cell_set_text|cell_set_tooltip|cell_set_width|cell|clear|merge_cells|set_position)\\b(?=\\s*\\((?!\\s*[\"'\\)]))",
          "captures": {
            "1": {
              "patterns": [
                {
                  "match": "\\b([a-zA-Z_]\\w*)\\b",
                  "name":"variable.other.readwrite.ps"
                },
                {
                  "match": "\\b([a-zA-Z_][\\w\\.]*)\\b(\\.)\\b([a-zA-Z_]\\w*)\\b",
                  "captures": {
                    "1": {
                      "patterns": [
                        {
                          "match": "[a-zA-Z_]\\w*",
                          "name":"variable.other.readwrite.ps"
                        },
                        {
                          "match": "\\.",
                          "name":"punctuation.accessor.ps"
                        }
                      ]
                    },
                    "2": {"name": "punctuation.accessor.ps"},
                    "3": {"name": "variable.other.readwrite.ps"}
                  }
                }
              ]
            },
            "2": {
              "name": "punctuation.accessor.ps"
            },
            "3":{
              "name": "variable.other.object.property.ps"
            }
          }
        },
        {
          "match": "(?:([\\w\\.]*)|(?<=\\)))(\\.)\\b(delete)\\b(?=\\s*\\(\\s*\\))",
          "captures": {
            "1": {
              "patterns": [
                {
                  "match": "\\b([a-zA-Z_]\\w*)\\b",
                  "name":"variable.other.readwrite.ps"
                },
                {
                  "match": "\\b([a-zA-Z_][\\w\\.]*)\\b(\\.)\\b([a-zA-Z_]\\w*)\\b",
                  "captures": {
                    "1": {
                      "patterns": [
                        {
                          "match": "[a-zA-Z_]\\w*",
                          "name":"variable.other.readwrite.ps"
                        },
                        {
                          "match": "\\.",
                          "name":"punctuation.accessor.ps"
                        }
                      ]
                    },
                    "2": {"name": "punctuation.accessor.ps"},
                    "3": {"name": "variable.other.readwrite.ps"}
                  }
                }
              ]
            },
            "2": {
              "name": "punctuation.accessor.ps"
            },
            "3":{
              "name": "variable.other.object.property.ps"
            }
          }
        }
      ]
    },
    "support_type":{
      "patterns":[
        {
          "match": "\\b(bool|box|float|int|string|label|line|linefill|table|simple|series|array|matrix)\\b",
          "name": "support.type.primitive.ps"
        }
      ]
    },
    "keyword_control_words":{
      "patterns": [
        {
          "match": "\\b(method|type)\\b",
          "name": "storage.type.function.ps"
        },
        {
          "match": "\\bimport\\b",
          "name": "keyword.control.import.ps"
        },
        {
          "match": "\\bexport\\b",
          "name": "keyword.control.export.ps"
        }
      ]
    },
    "strategy_openclose_trade":{
      "patterns": [
        {
          "match": "\\b(strategy)\\b(\\.)\\b(opentrades|closedtrades)\\b",
          "captures": {
            "0": {
              "name": "support.constant.property.ps"
            },
            "1": {
              "name": "support.constant.ps"
            },
            "2": {
              "name": "punctuation.accessor.ps"
            }
          }
        }
      ]
    },
    "built_in_constants":{
      "patterns": [
        {
          "match": "\\b(bar_index|close|dayofmonth|dayofweek|high|hl2|hlc3|hlcc4|hour|last_bar_index|last_bar_time|low|minute|month|na|ohlc4|open|second|time_close|time_tradingday|timenow|time|volume|weekofyear|year)\\b",
          "name": "support.constant.ps"
        },
        {"include": "#strategy_openclose_trade"}
      ]
    }
  },
  "scopeName": "source.ps"
}